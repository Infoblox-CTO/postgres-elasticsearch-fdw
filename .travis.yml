language: python

install:
  - sudo apt-get update -qq
  - sudo apt-get install -qq "postgresql-${PG_VERSION}-python-multicorn"
  - pip install -r requirements.txt
  - pip install -r tests/requirements.txt
  - python setup.py install

services:
  - postgresql
  - elasticsearch

addons:
  postgresql: "${PG_VERSION}"

script: ./tests/test.py "${PG_VERSION}"

env:
  - PG_VERSION=9.2
  - PG_VERSION=9.3
  - PG_VERSION=9.4
  - PG_VERSION=9.5
  - PG_VERSION=9.6
